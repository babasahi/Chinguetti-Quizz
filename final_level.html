<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script>
        let input = document.getElementsByTagName('input');
        const form = document.getElementById('form');
        let compteur = 0;
        let score=0;
        let vrai = 0;
        let nonchecked = 4;
        let check = 0;
        let Totale = 4 ;
        let v = 0 ;
function reload()
{
    location.reload();
return false;
}


function unload(event){
    event.preventDefault();

}

function deactivate(){
    corriger.disabled = true;
}

function displaybuttons(){

reprendre.style.display = "";
corriger.style.display = "";
valider.disabled=true;

}



       let Q=document.getElementsByClassName('hamade');
       let Q1=document.getElementsByName('Q2');
       let Q2=document.getElementsByName('Q3');
       let Q3=document.getElementsByName('Q4');
       
 

let questions = [ 
    {
        "choix" : Q,
        "reponse" : [0,2]
    },
    {
        "choix" : Q1,
        "reponse": ""
    },
    {
        "choix" : Q2,
        "reponse" : 0
    },
    {
        "choix" : Q3,
        "reponse" : 0
    }
    

];


function result(){

for ( let i= 0 ;i<input.length;i++)
{
    if(input[i].type == 'radio' && !input[i].checked)
    {   compteur++;

    }
   
}

if(compteur == 12)
{       let answer;
    do
    answer = prompt("Quelle question n'a aucune reponse",'entre 1 et 4 ');
     while(isNaN(answer) || ( answer > 4) || (answer < 1));
    if(answer == 2) {score+=2;
        alert(" Score:"+score + "\n" + "tq" + Totale + "\n" + "QR"+check + "\n" + "noncked"+nonchecked );
     }
     else {
        alert(" Score: "+score );
     }
     displaybuttons();
     return ;
}
  if(compteur >3 && compteur<=6)
   nonchecked-=3;
   if(compteur >6 && compteur<=9) 
   nonchecked-=2;
   if(compteur > 9 && compteur<12)
   nonchecked-=1;
   
   check = Totale-nonchecked ;

   score=0;
 
for(i=0;i<questions.length;i++)
{

    let choix = questions[i].choix;

    let reponse = questions[i].reponse;
    let bi = 0 ;
    let compteurcheck = 0;

    for( let j=0;j<3;j++)
    {


      //Question 1
      if (i==0)
        { 
           for(let k=0;k<3;k++)
           {
            if (choix[k].checked)
            {
                compteurcheck++;
            }
           }
           if(compteurcheck == 2 && !choix[1].checked) {
               score+=2; break; }
               else if (compteurcheck == 0)
               {
                   break;
               }
            else score+=-1;
            break;
    }

    //pour Q2
    else if(i==1)
        {
            if(choix[j].checked)
            {
                score+=-1;
                break;
            }
            else {
                bi ++;
            }

            if (bi == 3 && j==2)
            {
                score+=2;
                break;
            }
        }
    else {

       if (choix[j].checked )
       {
           if( j == reponse) 
           score+=2;
           else {
               score+=-1;
           }
       }
       else score+=0;
    }
}

}
alert("SCORE : "+score + "Rnp" +nonchecked);
displaybuttons();

}

//ADD A COUNTDOWN
let time = 14;
let quizTimeInMinutes = time * 60 * 60 ;
quizTime = quizTimeInMinutes / 60 ;


function startCountdown() {
  let quizTimer = setInterval( function() {
    if (quizTime <= 0 ) {
      clearInterval(quizTimer);
      result();
      
    } else{
      quizTime--;
      let sec = Math.floor(quizTime % 60);
      let min = Math.floor(quizTime / 60) % 60;
      let formatted_sec = sec < 10 ? `0${sec}`: `${sec}`;
      let formatted_min = min < 10 ? `0${min}`: `${min}`
      document.getElementById("time").innerHTML = `${formatted_min} : ${formatted_sec}`;
    }
  
  }, 1000)
}
startCountdown();
  

    </script>
    <style>



   </style>
</head>
<body>
  <header>
    <div class="logo">شنقيط</div>
    <nav>
       <ul>
           <li><a href="./welcom.html">Welcom</a></li>
           <li><a href="test_home.html">home</a></li>
           <li><a href="quizz page.html">Quiz</a></li>
           <li><a href="about page.html">About Us</a></li>
       </ul>
    </nav>
</header>
      </div>
    <div class="page-header">
      <span  id="time">00:00</span>
    </div>
 <div class="form-container">
  <form action="" id="form" onsubmit="unload">
    <input id='step2' type='checkbox'>
    <input id='step3' type='checkbox'>
    <input id='step4' type='checkbox'>
    <input id='step5' type='checkbox'> 

    <div id="part1" class="form-group">
      <div class="panel panel-primary">
        <div class="panel-heading">
          <h3 class="panel-title">Where is this mosque in Mauritania?</h3>
        </div>
        <img src="./assets/images/30.jpg" alt="mm" width="600px" height="400px" >
        <br/><br/><br/>
        <div class="box">
          <input type="radio" name="Q1" id="option-1" class="hamade">
          <input type="radio" name="Q12" id="option-2" class="hamade">
          <input type="radio" name="Q13" id="option-3" class="hamade">
          <label for="option-1" class="option-1">
            <div class="dot"></div>
            <div class="text">Gamer</div>
          </label>
          <label for="option-2" class="option-2">
            <div class="dot"></div>
            <div class="text">YouTuber</div>
          </label>
          <label for="option-3" class="option-3">
            <div class="dot"></div>
            <div class="text">Student</div>
          </label>
        </div>
        <div class="btn-group btn-group-lg" role="group" aria-label="...">
          <label for='step2' id="continue-step2" class="continue">
          <div class="btn btn-default btn-success btn-lg">Continue</div>
          </label>
        </div>
      </div>
    </div>
    <div id="part2" class="form-group">
      <div class="panel panel-primary">
        <div class="panel-heading">
          <h3 class="panel-title">Where is this mosque in Mauritania?</h3>
        </div>
        <img src="./assets/images/40.jpg" alt="mm" width="600px" height="400px">
        <br/><br/>
        <div class="box">
          <input type="radio" name="Q2" id="option-11">
          <input type="radio" name="Q2" id="option-22">
          <input type="radio" name="Q2" id="option-33">
          <label for="option-11" class="option-11">
            <div class="dot"></div>
            <div class="text">Game</div>
          </label>
          <label for="option-22" class="option-22">
            <div class="dot"></div>
            <div class="text">YouTube</div>
          </label>
          <label for="option-33" class="option-33">
            <div class="dot"></div>
            <div class="text">Studen</div>
          </label>
        </div>
        <div class="btn-group btn-group-lg btn-group-justified" role="group" aria-label="...">
          <label for='step2' id="back-step2" class="back">
            <div class="btn btn-default btn-primary btn-lg" role="button">Back</div>
          </label>
          <label for='step3' id="continue-step3" class="continue">
            <div class="btn btn-default btn-success btn-lg" role="button">Continue</div>
          </label>
        </div>
      </div>
    </div>
    <div id="part3" class="form-group">
      <div class="panel panel-primary">
        <div class="panel-heading">
          <h3 class="panel-title">Where is this mosque in Mauritania?</h3>
        </div>
        <img src="./assets/images/40.jpg" alt="mm" width="600px" height="400px">
        <br/><br/>
        <div class="box">
          <input type="radio" name="Q3" id="option-111">
          <input type="radio" name="Q3" id="option-222">
          <input type="radio" name="Q3" id="option-333">
          <label for="option-111" class="option-111">
            <div class="dot"></div>
            <div class="text">Ga</div>
          </label>
          <label for="option-222" class="option-222">
            <div class="dot"></div>
            <div class="text">YouTu</div>
          </label>
          <label for="option-333" class="option-333">
            <div class="dot"></div>
            <div class="text">Studen</div>
          </label>
        </div>
        <div class="btn-group btn-group-lg btn-group-justified" role="group" aria-label="...">
          <label for='step3' id="back-step3" class="back">
            <div class="btn btn-default btn-primary btn-lg" role="button">Back</div>
          </label>
          <label for='step4' id="continue-step4" class="continue">
            <div class="btn btn-default btn-success btn-lg" role="button">Continue</div>
          </label>

        </div>
      </div>
    </div>
    <div id="part4" class="form-group">
      <div class="panel panel-primary">
        <div class="panel-heading">
          <h3 class="panel-title">Where is this mosque in Mauritania?</h3>
        </div>
        <img src="./assets/images/40.jpg" alt="mm" width="600px" height="400px">
        <br/><br/>
        <div class="box">
          <input type="radio" name="Q4" id="option-1111">
          <input type="radio" name="Q4" id="option-2222">
          <input type="radio" name="Q4" id="option-3333">
          <label for="option-1111" class="option-1111">
            <div class="dot"></div>
            <div class="text">Ga</div>
          </label>
          <label for="option-2222" class="option-2222">
            <div class="dot"></div>
            <div class="text">YouTu</div>
          </label>
          <label for="option-3333" class="option-3333">
            <div class="dot"></div>
            <div class="text">Studen</div>
          </label>
        </div>
        <div class="btn-group btn-group-lg btn-group-justified" role="group" aria-label="...">

          <label for='step4' id="back-step4" class="back">
            <div class="btn btn-default btn-primary btn-lg" role="button">Back</div>
          </label>
          <button class="validebtn" type="button" id="valider" onclick="result()">Valider</button>
          <a  href="reponse.html" target="_blank"><button class="corigbtn" type="button" id="corriger" style="display : none;">Corriger</button> </a>
          <button class="startbtn" type="button" style="display : none;" id="reprendre" onclick="reload()" >Reprendre</button>
          </label>
        </div>
      </div>
    </div>
  </form>
</div>z
</body>
</html>